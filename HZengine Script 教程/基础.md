# HZengine Script 基础
HZengine Script 是 HZengine 的专用脚本语言，针对视觉小说创作设计了简洁高效的语法。
其风格参考了 Ren'Py 语言，但不使用缩进区别代码块，以降低初学者的认知门槛。

HZengine Script 是以 .hzs 结尾的文本文件，用来编写剧本和演出。
你可以使用 VS Code、Sublime Text、Notepad++
甚至系统自带的记事本软件打开和编辑 .hzs 文件。请注意使用 utf8 编码加载和保存，以免出现乱码。

hzs 文件存放在项目文件夹的 game/script 目录下。
你可以在 script 文件夹下创建子文件夹，按你的喜好将 hzs 文件分别存放在不同的子文件夹下，
但注意放在 script 文件夹外面的 hzs 文件不会被加载。

hzs 文件的命名没有特殊的规范，你可以按照自己的喜好命名 hzs 文件，只要它是 .hzs 结尾。

HZ Engine 在运行视觉小说时，会以一个 hzs 文件为单位加载到内存中，如果你的 hzs 文件过大，请考虑将其拆散成多个小的 hzs 文件。通常每个 hzs 文件不超过 1MB。
## 注释
在 hzs 文件中，以 # 开头的为注释。# 以后的内容将被忽略。注释通常用来解释一段代码的作用，或者记录创作者想写的东西。
```renpy
# 这是个注释
"hello，这是个 say 语句"  #这也是个注释
"hi #这不是个注释，因为 # 被包含在字符串中"
```
字符串是包含在一对英文引号之间的文字，一般作为参数传递给语句，在字符串中间的 # 不会视为注释。

## 脚本标签
**label 语句** 用于声明一个脚本标签，
它的作用是标记一个脚本点，便于分支语句之类的跳转到指定位置。
label 语句以 * 开头，后面接一个字符串代表标签名。
例如：
```renpy
*chapter1_1
```
标签名中不应包含空格，空格以后的字符将被忽略。

标签名应当是**全局统一**的，这意味着在同一个游戏项目中，你不能声明两个相同名字的标签（哪怕它们在不同的 hzs 文件中），否则将会引发错误。

HZengine 会在视觉小说项目首次加载时记录所有的脚本标签，如果出现重名，游戏将报错并无法启动。


### 视觉小说的起始位置：start 脚本标签
有一个特殊的标签名 **start**，一般情况下，HZengine 会从 start 标签处开始运行游戏。
请确保你声明了一个 start 脚本标签，否则将发生错误。

### 执行中遇到其它 label 语句不会停止

脚本语句仅用于标记脚本点位置，它们在在初次加载游戏时被记录。而在视觉小说正常运行时，label 语句将被忽略。这意味着，即使脚本执行中途遇到了其它的 label 语句，游戏也不会停止，而是继续向下执行，直到文件结尾（这一点与 Ren'Py 不同）

### label 语句不能在语句块中出现
所谓语句块，是指 if、menu、while 等具有一定作用范围的语句，它们通常有一个开始命令和一个结束命令，例如
```renpy
if sd.money >= 100     #开始命令
"恭喜你，至少有100块钱"
eval sd.money -= 100
"现在我拿走了你的100块钱"
end if                 #结束命令
```
在开始和结束命令之间为语句块，包含若干语句。label 语句不能出现在语句块中，否则将在运行时抛出错误。换言之，label 语句只能出现在脚本的**顶层**（意思不是第一行，而是在任何语句块外面）。这是为了防止运行顺序产生混乱，避免潜在的灾难。

## HZengine 会忽略多余的空格
HZengine 在解释 hzs 文件时，会忽略每行语句开头和结尾的空格。此外，在语句中间的多个空格与一个空格的作用是等效的（字符串除外，字符串中几个空格就是几个空格）
比如
```renpy
show eliza happy
  show eliza happy
show    eliza  happy
```renpy
这几个的作用是一样的。但在字符串中
"空格测试"
"空 格 测 试"
"  空   格 测    试"
```
这些是截然不同的。它们会被原样地显示在屏幕上。

有时候，在语句块之前加上一些多余的空格可以增加代码的可读性（被称为缩进）这在以后介绍分支等功能时会详细介绍。
